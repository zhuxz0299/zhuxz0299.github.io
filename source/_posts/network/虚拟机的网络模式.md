---
title: 虚拟机的网络模式
cover: 'https://source.fomal.cc/img/default_cover_161.webp'
description: 介绍虚拟机的桥接、NAT 与 Host-Only 三种网络模式
tags: 
    - network
    - vm
abbrlink: 427bd953
date: 2025-08-21 00:16:00
---

{% note info %}
内容来自：[实例讲解虚拟机3种网络模式(桥接、nat、Host-only)](https://www.cnblogs.com/ggjucheng/archive/2012/08/19/2646007.html)
{% endnote %}

## 桥接
桥接网络是指本地物理网卡和虚拟网卡通过 VMnet0 虚拟交换机进行桥接，物理网卡和虚拟网卡在拓扑图上处于同等地位，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机,所以两个网卡的IP地址也要设置为同一网段。所以当我们要在局域网使用虚拟机，对局域网其他 pc 提供服务时，例如提供 ftp, ssh, http 等服务，那么就要选择桥接模式。

例如大学宿舍里有一个路由器，宿舍里四个人连接这个路由器，路由器的 lanip 默认是 `192.168.1.1`，子网掩码是 `255.255.255.0`。而其他四个人是自动获取 ip，假设四个人的 ip 是:
```
A:192.168.1.100/255.255.255.0,  B:192.168.1.101/255.255.255.0,  C:192.168.1.102/255.255.255.0,  D:192.168.1.103/255.255.255.0
```

那么虚拟机的ip可以设置的ip地址是 `192.168.1.2`~`192.168.1.99`, `192.168.1.104`~`192.168.1.254`(网络地址全 0 和全 1 的除外，再除去 ABCD 四个人的 ip 地址)


## NAT
NAT 模式就是让虚拟机借助 NAT (网络地址转换)功能，通过宿主机器所在的网络来访问公网。该模式下，虚拟机的网卡和物理网卡不在同一个网络，虚拟机的网卡，是在 vmware 提供的一个虚拟网络。

NAT和桥接的比较:
1. NAT 模式和桥接模式虚拟机都可以上外网。
2. 由于 NAT 的网络在 vmware 提供的一个虚拟网络里，所以局域网其他主机是无法访问虚拟机的，而宿主机可以访问虚拟机，虚拟机可以访问局域网的所有主机，因为真实的局域网相对于 NAT 的虚拟网络，就是 NAT 的虚拟网络的外网。
3. 桥接模式下，多个虚拟机之间可以互相访问；NAT 模式下，多个虚拟机之间也可以相互访问。

如果建一个虚拟机不需要给局域网其他人用，那么可以选择 NAT。NAT 模式下的虚拟系统的 TCP/IP 配置信息是由 VMnet8(NAT) 虚拟网络的 DHCP 服务器提供的，只要虚拟机的网路配置是 DHCP，那么不需要进行任何其他的配置，只需要宿主机器能访问互联网即可，就可以让虚拟机联网了。


## Host-Only
在 Host-Only 模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是主机。其实 Host-Only 网络和NAT网络很相似，不同的地方就是 Host-Only 网络没有 NAT 服务，所以虚拟网络不能连接到 Internet。主机和虚拟机之间的通信是通过 VMware Network Adepter VMnet1 虚拟网卡来实现的。

Host-Only 的宗旨就是建立一个与外界隔绝的内部网络，来提高内网的安全性。这个功能或许对普通用户来说没有多大意义，但大型服务商会常常利用这个功能。